this.ws=this.ws||{},function(){var t=function(t){this.init(t)},e=t.prototype;e.init=function(t){this.$job=$("#job"),this.$blackMask=$("#job .blackMask"),this.$thumbPanel=$("#job .mask .scrollPanel .item .thumbPanel"),this.$delayImage=$("#job .mask .scrollPanel .item .thumbPanel .thumb .delayImage"),this.$introData=$("#job .mask .scrollPanel .item .introData"),this.$detailContainer=$("#job .detailContainer"),this.$intro=$("#job .detailContainer .detailPanel .intro"),this.$enTitle=$("#job .detailContainer .detailPanel .title .en"),this.$cnTitle=$("#job .detailContainer .detailPanel .title .cn"),this.$contentTxt=$("#job .detailContainer .detailPanel .intro .mask .scrollPanel"),this.$close=$("#job .detailContainer .detailPanel .close"),this.$prev=$("#job .detailContainer .detailPrev"),this.$next=$("#job .detailContainer .detailNext"),this.curId=0,this.num=this.$thumbPanel.length;var e=this;this.$delayImage.imageLoad();var i=new ws.HScrollPanel;i.init(4,this.$job),this.txtScrollPanel=new ws.TxtScrollPanel(this.$intro),this.$thumbPanel.each(function(t){$(this).data("id",t)}),this.$thumbPanel.click(function(){e.curId=$(this).data("id"),e.$detailContainer.fadeIn(),e.$blackMask.fadeIn(),e.updateDetail(e.curId)}),this.$close.click(function(){e.$detailContainer.fadeOut(),e.$blackMask.fadeOut()}),this.$prev.click(function(){e.curId>0&&(e.curId--,e.updateDetail(e.curId),console.log(e.curId))}),this.$next.click(function(){e.curId<e.num-1&&(e.curId++,e.updateDetail(e.curId),console.log(e.curId))})},e.updateDetail=function(t){this.$enTitle.html(this.$thumbPanel.eq(t).children(".enTitle").html()),this.$cnTitle.html(this.$thumbPanel.eq(t).children(".cnTitle").html()),this.$contentTxt.html(this.$introData.eq(t).html()),this.txtScrollPanel.reset()},ws.Job=t}(),function(){var t=function(t,e){this.init(t,e)},e=t.prototype;e.init=function(t,e){this.$dom=t,this.$interactionDom=e||t,this.$mask=this.$dom.children(".mask"),this.$scrollPanel=this.$dom.children(".mask").children(".scrollPanel"),this.$scrollBar=this.$dom.children(".scrollBar"),this.$dragger=this.$dom.children(".scrollBar").children(".dragger"),this.isDown=!1,this.mouseDownY=0,this.downY=0,this.reset()},e.reset=function(){if(this.$scrollPanel.css("top",0),this.$dragger.css("top",0),this.$scrollPanel.height()>this.$mask.height()){this.initDragger(),this.setDraggerHeight(),this.initMouseWheel();var t=this;this.$interactionDom.mouseenter(function(){t.$scrollBar.fadeIn()}),this.$interactionDom.mouseleave(function(){t.$scrollBar.fadeOut()}),this.$scrollBar.fadeIn()}else this.$dom.unbind(),this.$scrollPanel.css("top",0),this.$scrollBar.hide()},e.initDragger=function(){var t=this;this.$dragger.mousedown(function(e){return t.isDown=!0,t.mouseDownY=e.pageY,t.downY=t.$dragger.position().top,!1}),$(document).mouseup(function(e){t.isDown=!1}),$(document).mousemove(function(e){if(t.isDown){e.preventDefault();var i=e.pageY-t.mouseDownY+t.downY;t.wheelStep(i)}})},e.setDraggerHeight=function(){var t=this.$mask.height()/this.$scrollPanel.height();this.$dragger.css("height",this.$scrollBar.height()*t)},e.wheelStep=function(t){0>t&&(t=0);var e=this.$scrollBar.height()-this.$dragger.height();t>e&&(t=e),this.$dragger.css("top",t);var i=this.$dragger.position().top/e;this.$scrollPanel.css("top",-(this.$scrollPanel.height()-this.$mask.height())*i)},e.initMouseWheel=function(){var t=this;this.$interactionDom.mousewheel(function(e,i,s,l){var a=t.$dragger.position().top;return a+=-10*i,t.wheelStep(a),!1})},ws.TxtScrollPanel=t}(),function(){var t=function(){},e=t.prototype;e.initDom=function(t,e,i,s){this.$dom=t,this.$mask=e||this.$dom.children(".mask"),this.$scrollPanel=this.$mask.children(".scrollPanel"),this.$item=this.$scrollPanel.children(".item"),this.$prev=i||this.$dom.children(".prev"),this.$next=s||this.$dom.children(".next")},e.init=function(t,e,i,s,l){this.initDom(e,i,s,l),this.scrollId=0,this.groupNum=Math.ceil(this.$item.length/t),this.tempNum=this.groupNum*t-this.$item.length;var a=this;this.$pageContainer=$("#job .pageContainer"),this.$pageBase=$("#job .pageContainer .pageBase"),this.createPage(),this.$prev.click(function(){if(a.scrollId>0)a.scrollId--,a.$page.eq(a.scrollId).click();else{var t;t=-a.$mask.width()*a.scrollId,TweenLite.to(a.$scrollPanel,.3,{left:t+50}),TweenLite.to(a.$scrollPanel,.2,{delay:.3,left:t})}}),this.$next.click(function(){if(a.scrollId<a.groupNum-1)a.scrollId++,a.$page.eq(a.scrollId).click();else{var t;t=-a.$mask.width()*a.scrollId+a.tempNum*a.$item.width(),TweenLite.to(a.$scrollPanel,.3,{left:t-50}),TweenLite.to(a.$scrollPanel,.2,{delay:.3,left:t})}})},e.goToPage=function(t){var e,i=.8;e=-this.$mask.width()*t,t==this.groupNum-1&&(i=.4,e+=this.tempNum*this.$item.width()),TweenLite.to(this.$scrollPanel,i,{left:e}),this.scroll()},e.scroll=function(){},e.createPage=function(){for(var t=this,e=0;e<this.groupNum;e++)this.$pageBase.clone(!0).addClass("page").addClass("page_out").removeClass("pageBase").data("id",e).appendTo(this.$pageContainer);this.$pageBase.remove(),this.$page=$("#job .pageContainer .page"),this.$page.click(function(){t.scrollId=$(this).data("id"),t.goToPage(t.scrollId),$(this).addClass("page_over").removeClass("page_out"),t.$page.not($(this)).addClass("page_out").removeClass("page_over")}),this.$page.eq(0).addClass("page_over").removeClass("page_out")},ws.HScrollPanel=t}();